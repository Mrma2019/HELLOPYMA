{"version":3,"file":"app.js","sources":["App.vue","main.js"],"sourcesContent":["<script>\r\n\timport config from '@/config/config.js';\r\n\timport getWeather from '@/utils/weather.js';\r\n\timport formatDate from '@/utils/format.js';\r\n\timport getSystemInfo from '@/utils/system.js';\r\n\timport userStore from '@/store/userStore.js'\r\n\r\n\texport default {\r\n\t\tonLaunch: function() {\r\n\t\t\tconsole.log('App Launch');\r\n\t\t\t//天气\r\n\t\t\tgetWeather();\r\n\t\t\t//系统信息\r\n\t\t\tgetSystemInfo();\r\n\t\t\t// 获取缓存的用户信息\r\n\t\t\tthis.getUserInfo();\r\n\t\t},\r\n\t\tonShow: function() {\r\n\t\t\tconsole.log('App Show');\r\n\r\n\t\t\tconst lastTime = uni.getStorageSync('lastGetWeatherTime' || 0);\r\n\t\t\tconst now = new Date();\r\n\t\t\tif (now - lastTime > 30 * 60 * 1000) {\r\n\t\t\t\tgetWeather();\r\n\t\t\t\tuni.setStorageSync('lastGetWeatherTime', now);\r\n\t\t\t}\r\n\t\t},\r\n\t\tonHide: function() {\r\n\t\t\tconsole.log('App Hide');\r\n\t\t\tclearInterval(this.formatTimer);\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tgetUserInfo() {\r\n\t\t\t\tuni.getStorage({\r\n\t\t\t\t\tkey: \"userInfo\",\r\n\t\t\t\t\tsuccess: (res) => {\r\n\t\t\t\t\t\tconsole.log('storage', res.data);\r\n\t\t\t\t\t\tuserStore.data = res.data;\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style>\r\n\t/*每个页面公共css */\r\n\t@import \"@/common/style.css\";\r\n\t@import \"@/common/iconfont.css\";\r\n\t@import \"@/static/stylesheet.css\";\r\n</style>","import App from './App'\n\n// #ifndef VUE3\nimport Vue from 'vue'\nimport './uni.promisify.adaptor'\nVue.config.productionTip = false\nApp.mpType = 'app'\nconst app = new Vue({\n  ...App\n})\napp.$mount()\n// #endif\n\n// #ifdef VUE3\nimport { createSSRApp } from 'vue'\nexport function createApp() {\n  const app = createSSRApp(App)\n  return {\n    app\n  }\n}\n// #endif"],"names":["uni","getWeather","getSystemInfo","userStore","createSSRApp","App"],"mappings":";;;;;;;;;;;;;AAOC,MAAK,YAAU;AAAA,EACd,UAAU,WAAW;AACpBA,kBAAAA,MAAA,MAAA,OAAA,iBAAY,YAAY;AAExBC,kBAAAA;AAEAC,iBAAAA;AAEA,SAAK,YAAW;AAAA,EAChB;AAAA,EACD,QAAQ,WAAW;AAClBF,kBAAAA,MAAY,MAAA,OAAA,iBAAA,UAAU;AAEtB,UAAM,WAAWA,cAAG,MAAC,eAAe,oBAAyB;AAC7D,UAAM,MAAM,oBAAI;AAChB,QAAI,MAAM,WAAW,KAAK,KAAK,KAAM;AACpCC,oBAAAA;AACAD,oBAAAA,MAAI,eAAe,sBAAsB,GAAG;AAAA,IAC7C;AAAA,EACA;AAAA,EACD,QAAQ,WAAW;AAClBA,kBAAAA,MAAY,MAAA,OAAA,iBAAA,UAAU;AACtB,kBAAc,KAAK,WAAW;AAAA,EAC9B;AAAA,EACD,SAAS;AAAA,IACR,cAAc;AACbA,oBAAAA,MAAI,WAAW;AAAA,QACd,KAAK;AAAA,QACL,SAAS,CAAC,QAAQ;AACjBA,wBAAY,MAAA,MAAA,OAAA,iBAAA,WAAW,IAAI,IAAI;AAC/BG,oCAAU,OAAO,IAAI;AAAA,QACtB;AAAA,OACA;AAAA,IACF;AAAA,EACD;AACD;AC3BM,SAAS,YAAY;AAC1B,QAAM,MAAMC,cAAY,aAACC,SAAG;AAC5B,SAAO;AAAA,IACL;AAAA,EACD;AACH;;;"}