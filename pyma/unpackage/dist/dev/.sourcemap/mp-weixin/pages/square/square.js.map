{"version":3,"file":"square.js","sources":["pages/square/square.vue","pages/square/square.vue?type=page"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"header\"\r\n\t\t\t:style=\"{height: headerHeight + 'px', transform: `translateY(${headerTranslate})`, opacity: opacity}\">\r\n\r\n\t\t</view>\r\n\t\t<scroll-view class=\"scroll-box\" scroll-y @scroll=\"onScroll\"\r\n\t\t\t:style=\"{transform: `translateY(${contentTranslate})`}\">\r\n\t\t\t<view v-for=\"item, index in 100\" :key=\"index\">\r\n\t\t\t\t<text>{{item}}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport systemStore from '@/store/systemStore.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\theaderHeight: 0,\r\n\t\t\t\tlastScrollTop: 0,\r\n\t\t\t\theaderTranslate: '0px',\r\n\t\t\t\tcontentTranslate: '0px',\r\n\t\t\t\topacity: 1\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconst headerHeight = this.systemInfo.navBarHeight;\r\n\t\t\tthis.headerHeight = headerHeight;\r\n\t\t\tthis.contentTranslate = `${headerHeight}px`;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonScroll(e) {\r\n\t\t\t\tconst current = Math.max(e.detail.scrollTop, 0);\r\n\t\t\t\tconst offset = Math.min(current, this.headerHeight);\r\n\r\n\t\t\t\tconst isScrollingDown = current > this.lastScrollTop;\r\n\r\n\t\t\t\tthis.headerTranslate = isScrollingDown ? `-${offset}px` : `0px`;\r\n\t\t\t\tthis.contentTranslate = isScrollingDown ?\r\n\t\t\t\t\t`${this.headerHeight - offset}px` :\r\n\t\t\t\t\t`${this.headerHeight}px`;\r\n\t\t\t\tthis.opacity = isScrollingDown ? 1 - offset / this.headerHeight : 1;\r\n\r\n\t\t\t\tthis.lastScrollTop = current;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsystemInfo() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tnavBarHeight\r\n\t\t\t\t} = systemStore.data;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tnavBarHeight\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.header {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: $uni-color-primary;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 10;\r\n\t\ttransition: transform 0.2s ease-out, opacity 0.2s ease;\r\n\t}\r\n\r\n\t.scroll-box {\r\n\t\theight: 100vh;\r\n\t\ttransition: transform 0.2s ease;\r\n\t}\r\n</style>","import MiniProgramPage from '/Volumes/CPBA_X64FRE/文稿/HBuilderProjects/HelloPyma/pyma/pages/square/square.vue'\nwx.createPage(MiniProgramPage)"],"names":["systemStore"],"mappings":";;;AAkBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,cAAc;AAAA,MACd,eAAe;AAAA,MACf,iBAAiB;AAAA,MACjB,kBAAkB;AAAA,MAClB,SAAS;AAAA;EAEV;AAAA,EACD,UAAU;AACT,UAAM,eAAe,KAAK,WAAW;AACrC,SAAK,eAAe;AACpB,SAAK,mBAAmB,GAAG,YAAY;AAAA,EACvC;AAAA,EACD,SAAS;AAAA,IACR,SAAS,GAAG;AACX,YAAM,UAAU,KAAK,IAAI,EAAE,OAAO,WAAW,CAAC;AAC9C,YAAM,SAAS,KAAK,IAAI,SAAS,KAAK,YAAY;AAElD,YAAM,kBAAkB,UAAU,KAAK;AAEvC,WAAK,kBAAkB,kBAAkB,IAAI,MAAM,OAAO;AAC1D,WAAK,mBAAmB,kBACvB,GAAG,KAAK,eAAe,MAAM,OAC7B,GAAG,KAAK,YAAY;AACrB,WAAK,UAAU,kBAAkB,IAAI,SAAS,KAAK,eAAe;AAElE,WAAK,gBAAgB;AAAA,IACtB;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,aAAa;AACZ,YAAM;AAAA,QACL;AAAA,MACD,IAAIA,kBAAAA,YAAY;AAChB,aAAO;AAAA,QACN;AAAA;IAEF;AAAA,EACD;;;;;;;;;;;;;;;;;;ACzDF,GAAG,WAAW,eAAe;"}