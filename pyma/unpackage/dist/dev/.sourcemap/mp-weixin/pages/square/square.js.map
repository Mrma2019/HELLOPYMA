{"version":3,"file":"square.js","sources":["pages/square/square.vue","F:/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvc3F1YXJlL3NxdWFyZS52dWU"],"sourcesContent":["<template>\r\n\t<view class=\"content\">\r\n\t\t<!-- 头部 -->\r\n\t\t<view class=\"header\" :style=\"{height: headerHeight + 'px', transform: `translateY(${headerTranslate})`}\">\r\n\r\n\t\t</view>\r\n\t\t<scroll-view class=\"scroll-box\" scroll-y @scroll=\"onScroll\"\r\n\t\t\t:style=\"{transform: `translateY(${contentTranslate})`}\">\r\n\t\t\t<view v-for=\"item, index in 100\" :key=\"index\">\r\n\t\t\t\t<text>{{item}}</text>\r\n\t\t\t</view>\r\n\t\t</scroll-view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport systemStore from '@/store/systemStore.js';\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\theaderHeight: 0,\r\n\t\t\t\tlastScrollTop: 0,\r\n\t\t\t\theaderTranslate: '0px',\r\n\t\t\t\tcontentTranslate: '0px',\r\n\t\t\t};\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\tconst headerHeight = this.systemInfo.navBarHeight;\r\n\t\t\tthis.headerHeight = headerHeight;\r\n\t\t\tthis.contentTranslate = `${headerHeight}px`;\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonScroll(e) {\r\n\t\t\t\tconst current = e.detail.scrollTop;\r\n\t\t\t\tconst last = this.lastScrollTop;\r\n\t\t\t\tif (current < 0) return;\r\n\t\t\t\tconst offset = Math.min(current, this.headerHeight);\r\n\r\n\t\t\t\tif (current > last) {\r\n\t\t\t\t\tthis.headerTranslate = `${offset * -1}px`;\r\n\t\t\t\t\tthis.contentTranslate = `${this.headerHeight - offset}`;\r\n\t\t\t\t} else {\r\n\t\t\t\t\t\r\n\t\t\t\t}\r\n\r\n\t\t\t\tthis.lastScrollTop = current;\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tsystemInfo() {\r\n\t\t\t\tconst {\r\n\t\t\t\t\tnavBarHeight\r\n\t\t\t\t} = systemStore.data;\r\n\t\t\t\treturn {\r\n\t\t\t\t\tnavBarHeight\r\n\t\t\t\t};\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.header {\r\n\t\twidth: 100%;\r\n\t\tbackground-color: $uni-color-primary;\r\n\t\tposition: fixed;\r\n\t\ttop: 0;\r\n\t\tleft: 0;\r\n\t\tright: 0;\r\n\t\tz-index: 10;\r\n\t\ttransition: transform 0.2s inherit, opacity 0.2s ease;\r\n\t}\r\n\r\n\t.scroll-box {\r\n\t\theight: 100vh;\r\n\t\t// transition: transform 0.2s ease;\r\n\t}\r\n</style>","import MiniProgramPage from 'C:/Users/pyma/Documents/HBuilderProjects/HELLOPYMA/pyma/pages/square/square.vue'\nwx.createPage(MiniProgramPage)"],"names":["systemStore"],"mappings":";;;AAiBC,MAAK,YAAU;AAAA,EACd,OAAO;AACN,WAAO;AAAA,MACN,cAAc;AAAA,MACd,eAAe;AAAA,MACf,iBAAiB;AAAA,MACjB,kBAAkB;AAAA;EAEnB;AAAA,EACD,UAAU;AACT,UAAM,eAAe,KAAK,WAAW;AACrC,SAAK,eAAe;AACpB,SAAK,mBAAmB,GAAG,YAAY;AAAA,EACvC;AAAA,EACD,SAAS;AAAA,IACR,SAAS,GAAG;AACX,YAAM,UAAU,EAAE,OAAO;AACzB,YAAM,OAAO,KAAK;AAClB,UAAI,UAAU;AAAG;AACjB,YAAM,SAAS,KAAK,IAAI,SAAS,KAAK,YAAY;AAElD,UAAI,UAAU,MAAM;AACnB,aAAK,kBAAkB,GAAG,SAAS,EAAE;AACrC,aAAK,mBAAmB,GAAG,KAAK,eAAe,MAAM;AAAA,MAGtD;AAEA,WAAK,gBAAgB;AAAA,IACtB;AAAA,EACA;AAAA,EACD,UAAU;AAAA,IACT,aAAa;AACZ,YAAM;AAAA,QACL;AAAA,MACD,IAAIA,kBAAAA,YAAY;AAChB,aAAO;AAAA,QACN;AAAA;IAEF;AAAA,EACD;;;;;;;;;;;;;;;;;ACxDF,GAAG,WAAW,eAAe;"}