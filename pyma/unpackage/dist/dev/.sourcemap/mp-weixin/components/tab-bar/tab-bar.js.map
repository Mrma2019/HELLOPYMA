{"version":3,"file":"tab-bar.js","sources":["components/tab-bar/tab-bar.vue","/Volumes/CPBA_X64FRE/文稿/HBuilderProjects/HelloPyma/pyma/components/tab-bar/tab-bar.vue?type=component"],"sourcesContent":["<template>\r\n\t<view class=\"tab-bar flex-row\"\r\n\t\t:style=\"{paddingBottom: tabBarPaddingBottom + 'px', paddingTop: tabBarPaddingTop + 'px'}\">\r\n\t\t<view :class=\"['tab-item', 'flex-col', {active: item.pagePath === currentPagePath}]\"\r\n\t\t\tv-for=\"(item, index) in tabList\" :key=\"index\" @click=\"switchTab(index)\">\r\n\t\t\t<text class=\"iconfont\">{{item?.unicode}}</text>\r\n\t\t\t<text class=\"text\">{{item.text}}</text>\r\n\t\t</view>\r\n\t</view>\r\n</template>\r\n\r\n<script>\r\n\timport tabList from \"./index.js\";\r\n\r\n\texport default {\r\n\t\tname: \"tab-bar\",\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\ttabList: tabList,\r\n\t\t\t\ttabBarPaddingBottom: 0,\r\n\t\t\t\ttabBarPaddingTop: 0,\r\n\t\t\t\ttabBarHeight: 0\r\n\t\t\t};\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tconst sysInfo = uni.getWindowInfo();\r\n\t\t\tconst platform = uni.getDeviceInfo().platform;\r\n\t\t\tif (platform !== 'ios') {\r\n\t\t\t\tthis.tabBarPaddingBottom = 5;\r\n\t\t\t\tthis.tabBarPaddingTop = 5;\r\n\t\t\t\t// console.log(this.tabBarPaddingBottom);\r\n\t\t\t} else {\r\n\t\t\t\tthis.tabBarPaddingBottom = sysInfo.safeAreaInsets.bottom;\r\n\t\t\t\tthis.tabBarPaddingTop = 5;\r\n\t\t\t}\r\n\r\n\t\t\tconst query = uni.createSelectorQuery().in(this);\r\n\t\t\tquery.select(\".tab-bar\").boundingClientRect(rect => {\r\n\t\t\t\tthis.tabBarHeight = rect.height;\r\n\t\t\t\t// console.log('tab-bar高度：' + this.tabBarHeight);\r\n\t\t\t\tthis.$emit(\"sendTabBarHeight\", this.tabBarHeight);\r\n\t\t\t}).exec();\r\n\t\t},\r\n\t\tcomputed: {\r\n\t\t\tcurrentPagePath() {\r\n\t\t\t\t// console.log(\"获取当前页面\");\r\n\t\t\t\tconst pages = getCurrentPages();\r\n\t\t\t\t// console.log(pages);\r\n\t\t\t\tconst currentPage = pages[pages.length - 1];\r\n\t\t\t\t// console.log(currentPage.route);\r\n\t\t\t\treturn currentPage.route;\r\n\t\t\t}\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tswitchTab(index) {\r\n\t\t\t\tconst url = this.tabList[index].pagePath;\r\n\t\t\t\t// console.log(\"路由：\" + url);\r\n\r\n\t\t\t\tuni.switchTab({\r\n\t\t\t\t\turl: `/${url}`\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\t.tab-bar {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\tbottom: 0;\r\n\t\tjustify-content: space-around;\r\n\t\tbackground-color: #fff;\r\n\t\tbox-shadow: 0 2px 5px rgb(0, 0, 0, 0.3);\r\n\r\n\t\t.tab-item {\r\n\t\t\talign-items: center;\r\n\t\t\tflex: 1;\r\n\r\n\t\t\t.text {\r\n\t\t\t\tfont-size: 25rpx;\r\n\t\t\t}\r\n\r\n\t\t\t.iconfont {\r\n\t\t\t\tfont-size: 40rpx;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\t.active {\r\n\t\t\tcolor: $uni-color-primary;\r\n\t\t\tfont-weight: bold;\r\n\t\t}\r\n\t}\r\n</style>","import Component from '/Volumes/CPBA_X64FRE/文稿/HBuilderProjects/HelloPyma/pyma/components/tab-bar/tab-bar.vue'\nwx.createComponent(Component)"],"names":["tabList","uni"],"mappings":";;;AAcC,MAAK,YAAU;AAAA,EACd,MAAM;AAAA,EACN,OAAO;AACN,WAAO;AAAA,MACN,SAASA,wBAAO;AAAA,MAChB,qBAAqB;AAAA,MACrB,kBAAkB;AAAA,MAClB,cAAc;AAAA;EAEf;AAAA,EACD,UAAU;AACT,UAAM,UAAUC,oBAAI;AACpB,UAAM,WAAWA,cAAAA,MAAI,cAAa,EAAG;AACrC,QAAI,aAAa,OAAO;AACvB,WAAK,sBAAsB;AAC3B,WAAK,mBAAmB;AAAA,WAElB;AACN,WAAK,sBAAsB,QAAQ,eAAe;AAClD,WAAK,mBAAmB;AAAA,IACzB;AAEA,UAAM,QAAQA,cAAAA,MAAI,oBAAqB,EAAC,GAAG,IAAI;AAC/C,UAAM,OAAO,UAAU,EAAE,mBAAmB,UAAQ;AACnD,WAAK,eAAe,KAAK;AAEzB,WAAK,MAAM,oBAAoB,KAAK,YAAY;AAAA,IACjD,CAAC,EAAE,KAAI;AAAA,EACP;AAAA,EACD,UAAU;AAAA,IACT,kBAAkB;AAEjB,YAAM,QAAQ;AAEd,YAAM,cAAc,MAAM,MAAM,SAAS,CAAC;AAE1C,aAAO,YAAY;AAAA,IACpB;AAAA,EACA;AAAA,EACD,SAAS;AAAA,IACR,UAAU,OAAO;AAChB,YAAM,MAAM,KAAK,QAAQ,KAAK,EAAE;AAGhCA,oBAAAA,MAAI,UAAU;AAAA,QACb,KAAK,IAAI,GAAG;AAAA,MACb,CAAC;AAAA,IACF;AAAA,EACD;AACD;;;;;;;;;;;;;;;;;;;AC9DD,GAAG,gBAAgB,SAAS;"}